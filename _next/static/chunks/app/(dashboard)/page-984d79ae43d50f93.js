(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[966],{2012:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>w});var r=t(5474),s=t(1076),l=t(4019);let n=(0,l.A)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);var i=t(1530),c=t(4859);function d(e){let{className:a,...t}=e;return(0,r.jsx)("div",{"data-slot":"card",className:(0,c.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",a),...t})}function o(e){let{className:a,...t}=e;return(0,r.jsx)("div",{"data-slot":"card-header",className:(0,c.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-[data-slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",a),...t})}function u(e){let{className:a,...t}=e;return(0,r.jsx)("div",{"data-slot":"card-content",className:(0,c.cn)("px-6",a),...t})}var x=t(4656),h=t(857),p=t(6214);let f=(0,l.A)("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]),j=(0,l.A)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),m=(0,l.A)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);var v=t(7932),g=t(531),y=t(4333);function b(e){let{index:a}=e,[t,s]=(0,i.useState)(!1),[l,n]=(0,i.useState)(null),c=(0,i.useRef)(null),d=(0,i.useRef)([]),o=(0,i.useRef)(null),{uploadButtonAudio:u}=(0,y.Rd)(),x=async()=>{try{let e=await navigator.mediaDevices.getUserMedia({audio:!0});c.current=new MediaRecorder(e),d.current=[],c.current.ondataavailable=e=>{e.data.size>0&&d.current.push(e.data)},c.current.onstop=()=>{let e=new Blob(d.current,{type:"audio/wav"}),a=URL.createObjectURL(e);if(n(a),e&&o.current){let a=new DataTransfer;a.items.add(new File([e],"recording.wav",{type:"audio/wav"})),o.current.files=a.files}},c.current.start(),s(!0)}catch(e){}},f=async()=>{l&&u(a,await fetch(l).then(e=>e.blob()))};return(0,r.jsxs)("div",{className:"flex gap-1 items-center h-10",children:[!t&&l?(0,r.jsx)(p.iN,{asChild:!0,children:(0,r.jsx)(v.$,{type:"button",variant:"outline",onClick:f,children:"Dokončit Nahr\xe1v\xe1n\xed"})}):(0,r.jsx)(v.$,{type:"button",variant:t?"destructive":"outline",onClick:t?()=>{c.current&&t&&(c.current.stop(),s(!1))}:x,children:t?"Zastavit Nahr\xe1v\xe1n\xed":"Zač\xedt Nahr\xe1vat"}),l&&!t&&(0,r.jsx)("audio",{className:"h-10",controls:!0,src:l}),(0,r.jsx)("input",{ref:o,type:"file",name:"voice",style:{display:"none"}}),(0,r.jsx)(h.w,{orientation:"vertical"}),(0,r.jsx)(v.$,{asChild:!0,variant:"outline",children:(0,r.jsxs)("label",{htmlFor:"audioInput",children:["Nahr\xe1t soubor",(0,r.jsx)("input",{id:"audioInput",name:"image",type:"file",accept:".wav",hidden:!0,onChange:e=>{var t;let r=null===(t=e.target.files)||void 0===t?void 0:t[0];r&&u(a,r)}})]})})]})}function N(e){let{index:a,source:t}=e,[s,l]=(0,i.useState)(!1),n=(0,i.useRef)(null),{uploadButtonAudio:c}=(0,y.Rd)();return(0,r.jsxs)("div",{className:"flex items-center justify-center",children:[t?(0,r.jsxs)(g.AM,{children:[(0,r.jsx)(g.Wv,{asChild:!0,children:(0,r.jsx)(v.$,{variant:"outline",children:(0,r.jsx)(f,{})})}),(0,r.jsxs)(g.hl,{className:"p-1 w-[--radix-popover-trigger-width] gap-1 flex h-12",children:[(0,r.jsx)(p.iN,{asChild:!0,children:(0,r.jsx)(v.$,{variant:"outline",onClick:()=>c(a,null),disabled:!t,children:"Smazat"})}),(0,r.jsx)(h.w,{orientation:"vertical"}),(0,r.jsx)(v.$,{variant:"outline",onClick:()=>{n.current&&(l(!0),n.current.play())},disabled:!t,children:s?(0,r.jsx)(j,{className:"animate-spin"}):"Přehr\xe1t"})]})]}):(0,r.jsxs)(g.AM,{children:[(0,r.jsx)(g.Wv,{asChild:!0,children:(0,r.jsx)(v.$,{variant:"outline",children:(0,r.jsx)(m,{})})}),(0,r.jsx)(g.hl,{className:"p-1 w-[--radix-popover-trigger-width]",children:(0,r.jsx)(b,{index:a})})]}),t&&(0,r.jsx)("audio",{ref:n,src:t,onEnded:()=>{l(!1)},style:{display:"none"}})]})}function k(e){let{button:{label:a,imageUrl:t,audioUrl:l,id:c}}=e,{uploadButtonImage:p,updateButtonLabel:f}=(0,y.Rd)(),j=(0,i.useRef)(a);return(0,r.jsxs)(d,{className:"h-[280px] p-0 gap-0 justify-between",children:[(0,r.jsx)(o,{className:"flex-1 flex flex-col items-center justify-center p-0",children:t?(0,r.jsxs)("div",{className:"relative group w-full h-full",children:[(0,r.jsx)("div",{className:"flex justify-center items-center h-full",children:(0,r.jsx)("img",{width:150,height:100,src:t,className:"rounded-t-xl object-cover"})}),(0,r.jsx)("div",{className:"absolute inset-0 bg-black/25 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity cursor-pointer rounded-t-xl",onClick:()=>p(c,null),role:"button","aria-label":"Odebrat obr\xe1zek",children:(0,r.jsx)(s.A,{className:"w-10 h-10 text-white"})})]}):(0,r.jsxs)("label",{id:"dropzone-file-".concat(c),className:"flex-1 flex items-center p-0 m-0 justify-center w-full border-2 border-gray-300 border-dashed rounded-t-xl cursor-pointer bg-gray-50 dark:hover:bg-gray-800 dark:bg-gray-700 hover:bg-gray-100 dark:border-gray-600 dark:hover:border-gray-500",children:[(0,r.jsx)("div",{className:"flex flex-col items-center justify-center flex-1",children:(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[(0,r.jsx)(n,{className:"w-8 h-8 mb-4 text-gray-500 dark:text-gray-400"}),(0,r.jsxs)("p",{className:"mb-2 text-sm text-gray-500 dark:text-gray-400",children:[(0,r.jsx)("span",{className:"font-semibold",children:"Klikni pro nahr\xe1n\xed obr\xe1zku"})," nebo přet\xe1hni soubor"]}),(0,r.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"zat\xedm jenom PNG"})]})}),(0,r.jsx)("input",{id:"dropzone-file-".concat(c),accept:"image/png",type:"file",className:"hidden",onChange:e=>{var a;let t=null===(a=e.target.files)||void 0===a?void 0:a[0];t&&p(c,t)}})]})}),(0,r.jsxs)("div",{children:[(0,r.jsx)(h.w,{}),(0,r.jsx)(u,{className:"p-4",children:(0,r.jsx)("div",{className:"flex flex-col gap-4",children:(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsx)(x.p,{className:"text-lg p-0 m-0",variant:"ghost",placeholder:"Text tlač\xedtka ".concat(c),value:null!=a?a:"",onFocus:()=>j.current===a,onKeyDown:e=>{"Escape"===e.key&&(f(c,j.current),e.target.blur())},onClick:e=>e.target.select(),onChange:e=>f(c,e.target.value)}),(0,r.jsx)("div",{className:"flex gap-1",children:(0,r.jsx)(N,{index:c,source:l})})]})})})]})]})}function w(){let{configuration:e}=(0,y.Rd)();return e?(0,r.jsx)("div",{className:"flex flex-1 flex-col gap-4 px-4 pb-0",children:(0,r.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-4 gap-8",children:e.buttons.map(e=>(0,r.jsx)(k,{button:e},"configuration-buttonCard-".concat(e.id)))})}):(0,r.jsx)("div",{className:"flex flex-1 flex-col gap-4 px-4 py-10 justify-center items-center",children:(0,r.jsxs)("div",{className:"flex flex-col",children:[(0,r.jsx)("p",{className:"text-xl font-bold text-center",children:"Komunik\xe1tor nen\xed připojen."}),(0,r.jsx)("p",{className:"text-muted-foreground text-sm",children:"Pro konfiguraci komun\xedk\xe1toru pros\xedm ho pros\xedm připojte do USB d\xedry, d\xedks"})]})})}},2187:(e,a,t)=>{Promise.resolve().then(t.bind(t,2012))}},e=>{var a=a=>e(e.s=a);e.O(0,[31,541,877,873,80,77,358],()=>a(2187)),_N_E=e.O()}]);