(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[305],{5813:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>e0});var s=a(5474),n=a(7932),r=a(1530),i=a(9671),l=a(280),o=a(7852),d=a(4859),c=a(4656),u=a(857),f=a(2746),x=a(1076);function m(e){let{...t}=e;return(0,s.jsx)(f.bL,{"data-slot":"sheet",...t})}function h(e){let{...t}=e;return(0,s.jsx)(f.ZL,{"data-slot":"sheet-portal",...t})}function p(e){let{className:t,...a}=e;return(0,s.jsx)(f.hJ,{"data-slot":"sheet-overlay",className:(0,d.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...a})}function g(e){let{className:t,children:a,side:n="right",...r}=e;return(0,s.jsxs)(h,{children:[(0,s.jsx)(p,{}),(0,s.jsxs)(f.UC,{"data-slot":"sheet-content",className:(0,d.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out fixed z-50 flex flex-col gap-4 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500","right"===n&&"data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right inset-y-0 right-0 h-full w-3/4 border-l sm:max-w-sm","left"===n&&"data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left inset-y-0 left-0 h-full w-3/4 border-r sm:max-w-sm","top"===n&&"data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top inset-x-0 top-0 h-auto border-b","bottom"===n&&"data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom inset-x-0 bottom-0 h-auto border-t",t),...r,children:[a,(0,s.jsxs)(f.bm,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-secondary absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none",children:[(0,s.jsx)(x.A,{className:"size-4"}),(0,s.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}function b(e){let{className:t,...a}=e;return(0,s.jsx)("div",{"data-slot":"sheet-header",className:(0,d.cn)("flex flex-col gap-1.5 p-4",t),...a})}function v(e){let{className:t,...a}=e;return(0,s.jsx)(f.hE,{"data-slot":"sheet-title",className:(0,d.cn)("text-foreground font-semibold",t),...a})}function j(e){let{className:t,...a}=e;return(0,s.jsx)(f.VY,{"data-slot":"sheet-description",className:(0,d.cn)("text-muted-foreground text-sm",t),...a})}var w=a(6020);function y(e){let{delayDuration:t=0,...a}=e;return(0,s.jsx)(w.Kq,{"data-slot":"tooltip-provider",delayDuration:t,...a})}function N(e){let{...t}=e;return(0,s.jsx)(y,{children:(0,s.jsx)(w.bL,{"data-slot":"tooltip",...t})})}function C(e){let{...t}=e;return(0,s.jsx)(w.l9,{"data-slot":"tooltip-trigger",...t})}function z(e){let{className:t,sideOffset:a=0,children:n,...r}=e;return(0,s.jsx)(w.ZL,{children:(0,s.jsxs)(w.UC,{"data-slot":"tooltip-content",sideOffset:a,className:(0,d.cn)("bg-primary text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-fit rounded-md px-3 py-1.5 text-xs text-balance",t),...r,children:[n,(0,s.jsx)(w.i3,{className:"bg-primary fill-primary z-50 size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px]"})]})})}let k=r.createContext(null);function S(){let e=r.useContext(k);if(!e)throw Error("useSidebar must be used within a SidebarProvider.");return e}function L(e){let{defaultOpen:t=!0,open:a,onOpenChange:n,className:i,style:l,children:o,...c}=e,u=function(){let[e,t]=r.useState(void 0);return r.useEffect(()=>{let e=window.matchMedia("(max-width: ".concat(767,"px)")),a=()=>{t(window.innerWidth<768)};return e.addEventListener("change",a),t(window.innerWidth<768),()=>e.removeEventListener("change",a)},[]),!!e}(),[f,x]=r.useState(!1),[m,h]=r.useState(t),p=null!=a?a:m,g=r.useCallback(e=>{let t="function"==typeof e?e(p):e;n?n(t):h(t),document.cookie="".concat("sidebar_state","=").concat(t,"; path=/; max-age=").concat(604800)},[n,p]),b=r.useCallback(()=>u?x(e=>!e):g(e=>!e),[u,g,x]);r.useEffect(()=>{let e=e=>{"b"===e.key&&(e.metaKey||e.ctrlKey)&&(e.preventDefault(),b())};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[b]);let v=p?"expanded":"collapsed",j=r.useMemo(()=>({state:v,open:p,setOpen:g,isMobile:u,openMobile:f,setOpenMobile:x,toggleSidebar:b}),[v,p,g,u,f,x,b]);return(0,s.jsx)(k.Provider,{value:j,children:(0,s.jsx)(y,{delayDuration:0,children:(0,s.jsx)("div",{"data-slot":"sidebar-wrapper",style:{"--sidebar-width":"16rem","--sidebar-width-icon":"3rem",...l},className:(0,d.cn)("group/sidebar-wrapper has-data-[variant=inset]:bg-sidebar flex min-h-svh w-full",i),...c,children:o})})})}function P(e){let{side:t="left",variant:a="sidebar",collapsible:n="offcanvas",className:r,children:i,...l}=e,{isMobile:o,state:c,openMobile:u,setOpenMobile:f}=S();return"none"===n?(0,s.jsx)("div",{"data-slot":"sidebar",className:(0,d.cn)("bg-sidebar text-sidebar-foreground flex h-full w-(--sidebar-width) flex-col",r),...l,children:i}):o?(0,s.jsx)(m,{open:u,onOpenChange:f,...l,children:(0,s.jsxs)(g,{"data-sidebar":"sidebar","data-slot":"sidebar","data-mobile":"true",className:"bg-sidebar text-sidebar-foreground w-(--sidebar-width) p-0 [&>button]:hidden",style:{"--sidebar-width":"18rem"},side:t,children:[(0,s.jsxs)(b,{className:"sr-only",children:[(0,s.jsx)(v,{children:"Sidebar"}),(0,s.jsx)(j,{children:"Displays the mobile sidebar."})]}),(0,s.jsx)("div",{className:"flex h-full w-full flex-col",children:i})]})}):(0,s.jsxs)("div",{className:"group peer text-sidebar-foreground hidden md:block","data-state":c,"data-collapsible":"collapsed"===c?n:"","data-variant":a,"data-side":t,"data-slot":"sidebar",children:[(0,s.jsx)("div",{"data-slot":"sidebar-gap",className:(0,d.cn)("relative w-(--sidebar-width) bg-transparent transition-[width] duration-200 ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180","floating"===a||"inset"===a?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+(--spacing(4)))]":"group-data-[collapsible=icon]:w-(--sidebar-width-icon)")}),(0,s.jsx)("div",{"data-slot":"sidebar-container",className:(0,d.cn)("fixed inset-y-0 z-10 hidden h-svh w-(--sidebar-width) transition-[left,right,width] duration-200 ease-linear md:flex","left"===t?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]","floating"===a||"inset"===a?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+(--spacing(4))+2px)]":"group-data-[collapsible=icon]:w-(--sidebar-width-icon) group-data-[side=left]:border-r group-data-[side=right]:border-l",r),...l,children:(0,s.jsx)("div",{"data-sidebar":"sidebar","data-slot":"sidebar-inner",className:"bg-sidebar group-data-[variant=floating]:border-sidebar-border flex h-full w-full flex-col group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:shadow-sm",children:i})})]})}function _(e){let{className:t,onClick:a,...r}=e,{toggleSidebar:i}=S();return(0,s.jsxs)(n.$,{"data-sidebar":"trigger","data-slot":"sidebar-trigger",variant:"ghost",size:"icon",className:(0,d.cn)("size-7",t),onClick:e=>{null==a||a(e),i()},...r,children:[(0,s.jsx)(o.A,{}),(0,s.jsx)("span",{className:"sr-only",children:"Toggle Sidebar"})]})}function A(e){let{className:t,...a}=e,{toggleSidebar:n}=S();return(0,s.jsx)("button",{"data-sidebar":"rail","data-slot":"sidebar-rail","aria-label":"Toggle Sidebar",tabIndex:-1,onClick:n,title:"Toggle Sidebar",className:(0,d.cn)("hover:after:bg-sidebar-border absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear group-data-[side=left]:-right-4 group-data-[side=right]:left-0 after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] sm:flex","in-data-[side=left]:cursor-w-resize in-data-[side=right]:cursor-e-resize","[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize","hover:group-data-[collapsible=offcanvas]:bg-sidebar group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full","[[data-side=left][data-collapsible=offcanvas]_&]:-right-2","[[data-side=right][data-collapsible=offcanvas]_&]:-left-2",t),...a})}function M(e){let{className:t,...a}=e;return(0,s.jsx)("main",{"data-slot":"sidebar-inset",className:(0,d.cn)("bg-background relative flex w-full flex-1 flex-col","md:peer-data-[variant=inset]:m-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow-sm md:peer-data-[variant=inset]:peer-data-[state=collapsed]:ml-2",t),...a})}function E(e){let{className:t,...a}=e;return(0,s.jsx)("div",{"data-slot":"sidebar-header","data-sidebar":"header",className:(0,d.cn)("flex flex-col gap-2 p-2",t),...a})}function D(e){let{className:t,...a}=e;return(0,s.jsx)("div",{"data-slot":"sidebar-group","data-sidebar":"group",className:(0,d.cn)("relative flex w-full min-w-0 flex-col p-2",t),...a})}function O(e){let{className:t,...a}=e;return(0,s.jsx)("ul",{"data-slot":"sidebar-menu","data-sidebar":"menu",className:(0,d.cn)("flex w-full min-w-0 flex-col gap-1",t),...a})}function R(e){let{className:t,...a}=e;return(0,s.jsx)("li",{"data-slot":"sidebar-menu-item","data-sidebar":"menu-item",className:(0,d.cn)("group/menu-item relative",t),...a})}let V=(0,l.F)("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-hidden ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-slate-200 data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:size-8! group-data-[collapsible=icon]:p-2! [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:p-0!"}},defaultVariants:{variant:"default",size:"default"}});function $(e){let{asChild:t=!1,isActive:a=!1,variant:n="default",size:r="default",tooltip:l,className:o,...c}=e,u=t?i.DX:"button",{isMobile:f,state:x}=S(),m=(0,s.jsx)(u,{"data-slot":"sidebar-menu-button","data-sidebar":"menu-button","data-size":r,"data-active":a,className:(0,d.cn)(V({variant:n,size:r}),o),...c});return l?("string"==typeof l&&(l={children:l}),(0,s.jsxs)(N,{children:[(0,s.jsx)(C,{asChild:!0,children:m}),(0,s.jsx)(z,{side:"right",align:"center",hidden:"collapsed"!==x||f,...l})]})):m}function K(e){let{className:t,asChild:a=!1,showOnHover:n=!1,...r}=e,l=a?i.DX:"button";return(0,s.jsx)(l,{"data-slot":"sidebar-menu-action","data-sidebar":"menu-action",className:(0,d.cn)("text-sidebar-foreground ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground peer-hover/menu-button:text-sidebar-accent-foreground absolute top-1.5 right-1 flex aspect-square w-5 items-center justify-center rounded-md p-0 outline-hidden transition-transform focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 md:after:hidden","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",n&&"peer-data-[active=true]/menu-button:text-sidebar-accent-foreground group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 md:opacity-0",t),...r})}function U(e){let{className:t,...a}=e;return(0,s.jsx)("ul",{"data-slot":"sidebar-menu-sub","data-sidebar":"menu-sub",className:(0,d.cn)("border-sidebar-border mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l px-2.5 py-0.5","group-data-[collapsible=icon]:hidden",t),...a})}let W=(0,a(4222).v)()(e=>({mode:"PROD",setDebug:()=>e(e=>({mode:"DEBUG"})),setProd:()=>e(e=>({mode:"PROD"}))})),J={ACK:"ack"};function I(e){let t=new Uint32Array(256).map((e,t)=>{let a=t;for(let e=0;e<8;e++)a=a>>>1^0xedb88320&-(1&a);return a>>>0}),a=-1;for(let s=0;s<e.length;s++)a=a>>>8^t[(a^e[s])&255];return(-1^a)>>>0}let F={INFO:"info",PUSH:"push",LS:"ls",RM:"rm",MV:"mv",PLAY:"play",PULL:"pull"},B=new TextDecoder,T=new TextEncoder,Z=(0,r.createContext)(void 0);function q(e){let{children:t}=e,[a,n]=(0,r.useState)(null),[i,l]=(0,r.useState)(null),[o,d]=(0,r.useState)(null),[c,u]=(0,r.useState)(null),{mode:f}=W();async function x(){if("serial"in navigator){let e=await navigator.serial.requestPort({filters:[{usbVendorId:51966,usbProductId:26946}]});await e.open({baudRate:115200});let t=e.writable.getWriter(),a=e.readable.getReader({mode:"byob"});l(t),d(a),n(e)}}async function m(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!o)return null;let t="";for(;;){let a=new Uint8Array(1024),{value:s,done:n}=await o.read(a);if(n||s&&s.byteLength>0&&(t+=B.decode(s,{stream:!0})).includes(e?"\x04":"\n"))break}return e&&(t=t.replace("\x04","")),t.trim()}async function h(e){if(!i)return;let t="string"==typeof e?e:new TextDecoder().decode(e),a=T.encode(t+"\x04");await i.write(a)}async function p(){if(i&&o){let e=await g();e.success&&u(e.data)}}async function g(){c||"DEBUG"!==f||console.log(await m()),await h(F.INFO);let e=await m();if(!e)return{success:!1,data:"Reading response from device failed."};let[t,a,s,n,r,i,l,o]=e.slice(0,-2).split(" "),{success:d,data:u}=await N("conf_info");return{success:!0,data:{type:t,deviceName:a,gitCommitSha:s,version:n,buildDate:new Date(r),blockCount:+i,usedBlockCount:+l,blockSize:+o,usesEternity:!e[e.length],loadedConfigurations:d?JSON.parse(await u.text()):[]}}}async function b(e,t,a){if(!i)return{success:!1,data:"Writing data to device failed."};let s=new Uint8Array(await e.arrayBuffer()),n=s.length,r=I(s);await h("".concat(F.PUSH," ").concat(t," ").concat(n," ").concat(r));let l=0;for(;l<n;){let e=await m();if(e){if(!e.startsWith(J.ACK))return{success:!1,data:"Device returned unxpected response. Error returned from the device: ".concat(e)};let t=s.slice(l,l+1024);await i.write(t),l+=t.length,a&&a.setBytesLeft&&a.setBytesLeft(e=>e-t.length)}}let o=await m();return o?o.startsWith(J.ACK)?(await p(),{success:!0,data:{filePath:t,bytesWritten:l}}):{success:!1,data:"Writing data to device failed. Error returned from the device: ".concat(o," ").concat(t," ").concat(r)}:{success:!1,data:"Device returned unxpected response. Push failed."}}async function v(){await h(F.LS);let e=await m(!0);if(!e)return{success:!1,data:"Device returned unxpected response. Ls failed."};let t=[];for(let a of e.split("\n")){let e=a.split(" ");if(2===e.length)continue;let[s,n,r]=e;t.push({name:s,type:"f"===n?"folder":"directory",size:r?+r:null})}return{success:!0,data:t}}async function j(e){await h("".concat(F.RM," ").concat(e));let t=await m();return t?(await p(),{success:t.startsWith(J.ACK),data:t.startsWith(J.ACK)?e:"Removing data from device failed. Error returned from the device: ".concat(t)}):{success:!1,data:"Device returned unxpected response. Rm failed."}}async function w(e,t){await h("".concat(F.MV," ").concat(e," ").concat(t));let a=await m();return a?{success:a.startsWith(J.ACK),data:a.startsWith(J.ACK)?t:"Moving data on the device failed. Error returned from the device: ".concat(a)}:{success:!1,data:"Device returned unxpected response. Mv failed."}}async function y(e){await h("".concat(F.PLAY," ").concat(e));let t=await m();return t?{success:t.startsWith(J.ACK),data:t.startsWith(J.ACK)?e:"Playing file failed. Error returned from the device: ".concat(t)}:{success:!1,data:"Device returned unxpected response. Play failed."}}async function N(e){if(!i)return{success:!1,data:"Writing data to device failed."};if(!o)return{success:!1,data:"Reading data from device failed."};await h("".concat(F.PULL," ").concat(e));let t=await m();if(!t||!t.startsWith(J.ACK))return{success:!1,data:"Device returned unexpected response. Pull failed. - ".concat(t)};let a=t.split(" "),s=parseInt(a[1],10),n=parseInt(a[2],10),r=new Uint8Array(s),l=0;for(;l<s;){await h(J.ACK);let e=Math.min(1024,s-l),t=0;for(;t<e;){let e=new Uint8Array(1024),{value:a,done:s}=await o.read(e);if(s)return{success:!1,data:"Stream closed unexpectedly after ".concat(l," bytes.")};a&&(r.set(a,l+t),t+=a.byteLength)}l+=e}let d=I(r);if(d!==n)return{success:!1,data:"Checksum mismatch! Expected ".concat(n,", got ").concat(d)};let c=new Blob([r]);return 0===c.size?{success:!1,data:"File has 0 bytes"}:{success:!0,data:c}}return(0,r.useEffect)(()=>{(async()=>await p())()},[i,o]),(0,s.jsx)(Z.Provider,{value:{connect:x,protocol:{connected:c?{info:c}:null,commands:{info:g,push:b,ls:v,rm:j,mv:w,play:y,pull:N,refreshInfo:p}}},children:t})}function X(){let e=(0,r.useContext)(Z);if(!e)throw Error("useProtocol must be used within a ProtocolProvider");return e}function Y(){let{protocol:e}=X(),t=(0,r.useMemo)(()=>e.connected?(100/(e.connected.info.blockSize*e.connected.info.blockCount)*e.connected.info.usedBlockCount*e.connected.info.blockSize).toFixed(2):null,[e]);return e.connected&&(0,s.jsx)("div",{children:(0,s.jsxs)("div",{className:"flex justify-center gap-3 border rounded-lg bg-white p-3 text-sm",children:[(0,s.jsx)("div",{className:"flex flex-col justify-center",children:(0,s.jsx)("div",{className:"animate-pulse bg-green-500 w-2 h-2 rounded-2xl"})}),(0,s.jsxs)("div",{className:"flex flex-col align-top",children:[(0,s.jsxs)("p",{children:["Připojeno zař\xedzen\xed: ",e.connected.info.deviceName]}),(0,s.jsxs)("p",{children:["Verze zař\xedzen\xed: ",e.connected.info.version," (",e.connected.info.gitCommitSha,")"]}),(0,s.jsxs)("p",{children:["Využito: ",t,"% z"," ",Math.round(e.connected.info.blockSize*e.connected.info.blockCount/1e6).toFixed(1)," ","MB"]})]})]})})}var H=a(7706);function G(e){let{...t}=e;return(0,s.jsx)(H.bL,{"data-slot":"collapsible",...t})}function Q(e){let{...t}=e;return(0,s.jsx)(H.R6,{"data-slot":"collapsible-trigger",...t})}function ee(e){let{...t}=e;return(0,s.jsx)(H.Ke,{"data-slot":"collapsible-content",...t})}var et=a(8568);function ea(e){let{size:t,value:a}=e;return(0,s.jsx)("div",{style:{backgroundColor:a,width:t,height:t,borderRadius:"50%",display:"inline-block"}})}var es=a(4333),en=a(7541),er=a(6214),ei=a(531);function el(e){let{disclaimer:t,action:a,side:r,destructive:i,children:l}=e;return(0,s.jsxs)(ei.AM,{children:[(0,s.jsx)(ei.Wv,{asChild:!0,children:l}),(0,s.jsx)(ei.hl,{className:"p-2",side:r,children:(0,s.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,s.jsx)("p",{children:t}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(er.iN,{asChild:!0,className:"flex-1",children:(0,s.jsx)(n.$,{variant:"outline",size:"sm",children:"Zrušit"})}),(0,s.jsx)(n.$,{variant:i?"destructive":"outline",className:"flex-1",size:"sm",onClick:async()=>await a(),children:"Potvrdit"})]})]})})]})}function eo(){let{connect:e,protocol:t}=X();async function a(e){let{success:a,data:s}=await t.commands.ls();if(!a){en.oR.error(s);return}let n=e.toLowerCase().substring(0,1);for(let e of s)n===e.name.substring(0,1)&&await t.commands.rm(e.name);let r=[JSON.stringify([...t.connected.info.loadedConfigurations.filter(t=>t.colorCode!==e)])];await t.commands.push(new Blob(r),"conf_info",{}),en.oR.success("Konfigurace byla \xfaspěšně smaz\xe1na.")}return(0,s.jsxs)(D,{children:[(0,s.jsxs)("div",{className:"flex flex-col gap-2",children:[!t.connected&&(0,s.jsx)(n.$,{onClick:async()=>{await e()},className:"w-full",variant:"outline",children:(0,s.jsx)("p",{children:"Připojit Komunik\xe1tor"})}),(0,s.jsx)(Y,{})]}),t.connected&&(0,s.jsxs)(O,{children:[(0,s.jsx)(u.w,{className:"my-2"}),(0,s.jsx)("p",{className:"text-sm font-semibold",children:"Nahran\xe9 konfigurace"}),t.connected.info.loadedConfigurations.map(e=>(0,s.jsx)(G,{asChild:!0,children:(0,s.jsxs)(R,{children:[(0,s.jsx)($,{asChild:!0,tooltip:e.name,children:(0,s.jsxs)("span",{children:[(0,s.jsx)(ea,{size:10,value:"#".concat(es.CM[e.colorCode])}),e.name]})}),(0,s.jsx)(Q,{asChild:!0,children:(0,s.jsxs)(K,{className:"data-[state=open]:rotate-90",children:[(0,s.jsx)(et.A,{}),(0,s.jsx)("span",{className:"sr-only",children:"Toggle"})]})}),(0,s.jsxs)(ee,{children:[(0,s.jsx)(U,{className:"text-sm",children:(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{children:"Nahr\xe1no:"}),new Date(e.uploadedAt).toLocaleString()]})}),(0,s.jsx)(U,{className:"text-sm",children:(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("p",{children:"Velikost:"}),Math.round(e.size/1e3).toFixed(0)," Kb"]})}),(0,s.jsx)(U,{className:"text-sm",children:(0,s.jsx)(el,{disclaimer:"Opravdu chcete smazat konfiguraci?",side:"right",destructive:!0,action:async()=>await a(e.colorCode),children:(0,s.jsx)(n.$,{size:"sm",variant:"outline",className:"text-sm h-6",children:"Smazat"})})})]})]})},e.uploadedAt))]})]})}function ed(){let{mode:e,setDebug:t,setProd:a}=W();return(0,s.jsxs)(P,{className:"border-r-0",children:[(0,s.jsxs)(E,{className:"pl-0",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsx)("span",{className:"pl-2 truncate font-bold text-xl",children:"Plajta Lithos"}),!1]}),(0,s.jsx)(u.w,{}),(0,s.jsx)(eo,{})]}),(0,s.jsx)(A,{})]})}function ec(e){let{...t}=e;return(0,s.jsx)(f.bL,{"data-slot":"dialog",...t})}function eu(e){let{...t}=e;return(0,s.jsx)(f.ZL,{"data-slot":"dialog-portal",...t})}function ef(e){let{className:t,...a}=e;return(0,s.jsx)(f.hJ,{"data-slot":"dialog-overlay",className:(0,d.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...a})}function ex(e){let{className:t,children:a,...n}=e;return(0,s.jsxs)(eu,{"data-slot":"dialog-portal",children:[(0,s.jsx)(ef,{}),(0,s.jsxs)(f.UC,{"data-slot":"dialog-content",className:(0,d.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",t),...n,children:[a,(0,s.jsxs)(f.bm,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[(0,s.jsx)(x.A,{}),(0,s.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}function em(e){let{className:t,...a}=e;return(0,s.jsx)("div",{"data-slot":"dialog-header",className:(0,d.cn)("flex flex-col gap-2 text-center sm:text-left",t),...a})}function eh(e){let{className:t,...a}=e;return(0,s.jsx)(f.hE,{"data-slot":"dialog-title",className:(0,d.cn)("text-lg leading-none font-semibold",t),...a})}function ep(){let[e,t]=(0,r.useState)(!1),[a,i]=(0,r.useState)(new Set),[l,o]=(0,r.useState)([]),[d,f]=(0,r.useState)({blob:null,dest:null}),[x,m]=(0,r.useState)(null),[h,p]=(0,r.useState)({path:null,dest:null}),[g,b]=(0,r.useState)(null),{connect:v,protocol:j}=X();return(0,r.useEffect)(()=>{let e=e=>{i(t=>{let a=new Set(t);return a.add(e.code),a})},t=e=>{i(t=>{let a=new Set(t);return a.delete(e.code),a})};return window.addEventListener("keydown",e),window.addEventListener("keyup",t),()=>{window.removeEventListener("keydown",e),window.removeEventListener("keyup",t)}},[]),(0,r.useEffect)(()=>{(a.has("Digit6")||a.has("Numpad6"))&&(a.has("Digit9")||a.has("Numpad9"))&&(a.has("ControlLeft")||a.has("ControlRight")||a.has("MetaLeft")||a.has("MetaRight"))&&(i(new Set),t(e=>!e))},[a]),(0,s.jsx)(ec,{open:e,onOpenChange:t,children:(0,s.jsxs)(ex,{className:"h-[90vh] flex min-w-[90vw] flex-col",children:[(0,s.jsx)(em,{children:(0,s.jsx)(eh,{children:"Developer Menu"})}),!j.connected&&(0,s.jsx)(n.$,{onClick:async()=>await v(),variant:"outline",children:(0,s.jsx)("p",{children:"Připojit Komunik\xe1tor"})}),(0,s.jsx)(Y,{}),(0,s.jsxs)("div",{className:"flex flex-col gap-2 flex-1",children:[(0,s.jsx)(u.w,{}),j.connected?(0,s.jsxs)("div",{className:"flex flex-col gap-2 flex-1",children:[(0,s.jsx)("p",{className:"text-sm",children:"Dostupn\xe9 př\xedkazy"}),(0,s.jsxs)("div",{className:"flex flex-col justify-between gap-10 flex-1",children:[(0,s.jsxs)("div",{className:"grid grid-cols-3 gap-2",children:[(0,s.jsx)(n.$,{variant:"outline",size:"sm",onClick:async()=>{let e=await j.commands.info();o(t=>[...t,{command:"INFO",line:JSON.stringify(e.data)}])},children:"info"}),(0,s.jsx)("div",{className:"col-span-2"}),(0,s.jsx)(n.$,{variant:"outline",size:"sm",onClick:async()=>{if(!d.blob||!d.dest){en.oR.error("Požadovan\xe9 argumenty nejsou vyplňěny!");return}let e=await j.commands.push(d.blob,d.dest,{});o(t=>[...t,{command:"PUSH",line:JSON.stringify(e.data)}])},children:"push"}),(0,s.jsx)(n.$,{variant:"outline",size:"sm",children:(0,s.jsx)(c.p,{type:"file",variant:"ghost",className:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",onChange:async e=>{var t;let a=null===(t=e.target.files)||void 0===t?void 0:t[0];a&&f(e=>({...e,blob:a}))}})}),(0,s.jsx)(c.p,{type:"text",className:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",placeholder:"file dest",onChange:e=>f(t=>({...t,dest:e.target.value}))}),(0,s.jsx)(n.$,{variant:"outline",size:"sm",onClick:async()=>{let e=await j.commands.ls();if(e.success)for(let[t,a]of Object.entries(e.data))o(e=>[...e,{command:0==+t?"LS":null,line:JSON.stringify(a)}])},children:"ls"}),(0,s.jsx)("div",{className:"col-span-2"}),(0,s.jsx)(n.$,{variant:"outline",size:"sm",onClick:async()=>{if(!x){en.oR.error("Požadovan\xe9 argumenty nejsou vyplňěny!");return}let e=await j.commands.rm(x);o(t=>[...t,{command:"MV",line:JSON.stringify(e.data)}])},children:"rm"}),(0,s.jsx)(c.p,{type:"text",className:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",placeholder:"file path",onChange:e=>m(e.target.value)}),(0,s.jsx)("div",{className:"col-span-1"}),(0,s.jsx)(n.$,{variant:"outline",size:"sm",onClick:async()=>{if(!h.path||!h.dest){en.oR.error("Požadovan\xe9 argumenty nejsou vyplňěny!");return}let e=await j.commands.mv(h.path,h.dest);o(t=>[...t,{command:"MV",line:JSON.stringify(e.data)}])},children:"mv"}),(0,s.jsx)(c.p,{type:"text",className:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",placeholder:"file path",onChange:e=>p(t=>({...t,path:e.target.value}))}),(0,s.jsx)(c.p,{type:"text",className:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",placeholder:"file dest",onChange:e=>p(t=>({...t,dest:e.target.value}))}),(0,s.jsx)(n.$,{variant:"outline",size:"sm",onClick:async()=>{if(!g){en.oR.error("Požadovan\xe9 argumenty nejsou vyplňěny!");return}let e=await j.commands.play(g);o(t=>[...t,{command:"PLAY",line:JSON.stringify(e.data)}])},children:"play"}),(0,s.jsx)(c.p,{type:"text",className:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",placeholder:"file path",onChange:e=>b(e.target.value)}),(0,s.jsx)("div",{className:"col-span-1"})]}),(0,s.jsxs)("div",{className:"grow flex flex-col text-sm gap-2",children:[(0,s.jsx)(u.w,{}),(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsx)("p",{children:"V\xfdstup př\xedkazu"}),(0,s.jsx)(n.$,{variant:"outline",size:"sm",onClick:()=>o([]),children:"Vymazat output"})]}),(0,s.jsx)("div",{className:"border rounded-lg p-2 grow flex flex-col gap-1 overflow-y-auto h-0",children:l.map((e,t)=>{let{command:a,line:n}=e;return(0,s.jsxs)("p",{className:"".concat(!a&&"ml-[31px]"),children:[a?"".concat(a," - "):""," ",n]},"line-".concat(t))})})]})]})]}):(0,s.jsx)("p",{className:"font-bold text-center",children:"Pro pos\xedl\xe1n\xed př\xedkazů pros\xedm připojte zař\xedzen\xed!"})]})]})})}var eg=a(1859);function eb(e){let{className:t,value:a,...n}=e;return(0,s.jsx)(eg.bL,{"data-slot":"progress",className:(0,d.cn)("bg-primary/20 relative h-2 w-full overflow-hidden rounded-full",t),...n,children:(0,s.jsx)(eg.C1,{"data-slot":"progress-indicator",className:"h-full w-full flex-1 transition-all bg-green-700",style:{transform:"translateX(-".concat(100-(a||0),"%)")}})})}var ev=a(9844),ej=a(4523),ew=a(7202),ey=a(8527);function eN(e){let{className:t,...a}=e;return(0,s.jsx)(ey.b,{"data-slot":"label",className:(0,d.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",t),...a})}let eC=ej.Op,ez=r.createContext({}),ek=e=>{let{...t}=e;return(0,s.jsx)(ez.Provider,{value:{name:t.name},children:(0,s.jsx)(ej.xI,{...t})})},eS=()=>{let e=r.useContext(ez),t=r.useContext(eL),{getFieldState:a}=(0,ej.xW)(),s=(0,ej.lN)({name:e.name}),n=a(e.name,s);if(!e)throw Error("useFormField should be used within <FormField>");let{id:i}=t;return{id:i,name:e.name,formItemId:"".concat(i,"-form-item"),formDescriptionId:"".concat(i,"-form-item-description"),formMessageId:"".concat(i,"-form-item-message"),...n}},eL=r.createContext({});function eP(e){let{className:t,...a}=e,n=r.useId();return(0,s.jsx)(eL.Provider,{value:{id:n},children:(0,s.jsx)("div",{"data-slot":"form-item",className:(0,d.cn)("grid gap-2",t),...a})})}function e_(e){let{className:t,...a}=e,{error:n,formItemId:r}=eS();return(0,s.jsx)(eN,{"data-slot":"form-label","data-error":!!n,className:(0,d.cn)("data-[error=true]:text-destructive",t),htmlFor:r,...a})}function eA(e){let{...t}=e,{error:a,formItemId:n,formDescriptionId:r,formMessageId:l}=eS();return(0,s.jsx)(i.DX,{"data-slot":"form-control",id:n,"aria-describedby":a?"".concat(r," ").concat(l):"".concat(r),"aria-invalid":!!a,...t})}function eM(e){var t;let{className:a,...n}=e,{error:r,formMessageId:i}=eS(),l=r?String(null!==(t=null==r?void 0:r.message)&&void 0!==t?t:""):n.children;return l?(0,s.jsx)("p",{"data-slot":"form-message",id:i,className:(0,d.cn)("text-destructive text-sm",a),...n,children:l}):null}var eE=a(5430),eD=a(5902),eO=a(6312),eR=a(7587);function eV(e){let{...t}=e;return(0,s.jsx)(eE.bL,{"data-slot":"select",...t})}function e$(e){let{...t}=e;return(0,s.jsx)(eE.WT,{"data-slot":"select-value",...t})}function eK(e){let{className:t,size:a="default",children:n,...r}=e;return(0,s.jsxs)(eE.l9,{"data-slot":"select-trigger","data-size":a,className:(0,d.cn)("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...r,children:[n,(0,s.jsx)(eE.In,{asChild:!0,children:(0,s.jsx)(eD.A,{className:"size-4 opacity-50"})})]})}function eU(e){let{className:t,children:a,position:n="popper",...r}=e;return(0,s.jsx)(eE.ZL,{children:(0,s.jsxs)(eE.UC,{"data-slot":"select-content",className:(0,d.cn)("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md","popper"===n&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[(0,s.jsx)(eJ,{}),(0,s.jsx)(eE.LM,{className:(0,d.cn)("p-1","popper"===n&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:a}),(0,s.jsx)(eI,{})]})})}function eW(e){let{className:t,children:a,...n}=e;return(0,s.jsxs)(eE.q7,{"data-slot":"select-item",className:(0,d.cn)("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",t),...n,children:[(0,s.jsx)("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:(0,s.jsx)(eE.VF,{children:(0,s.jsx)(eO.A,{className:"size-4"})})}),(0,s.jsx)(eE.p4,{children:a})]})}function eJ(e){let{className:t,...a}=e;return(0,s.jsx)(eE.PP,{"data-slot":"select-scroll-up-button",className:(0,d.cn)("flex cursor-default items-center justify-center py-1",t),...a,children:(0,s.jsx)(eR.A,{className:"size-4"})})}function eI(e){let{className:t,...a}=e;return(0,s.jsx)(eE.wn,{"data-slot":"select-scroll-down-button",className:(0,d.cn)("flex cursor-default items-center justify-center py-1",t),...a,children:(0,s.jsx)(eD.A,{className:"size-4"})})}let eF=ew.z.object({name:ew.z.string().min(3,{message:"Konfigurace mus\xed m\xedt alespoň 3 p\xedsmena."}),type:ew.z.enum(es.MA),colorCode:ew.z.enum(es.Jy)});function eB(){let[e,t]=(0,r.useState)(!1),{createConfiguration:a,configuration:i}=(0,es.Rd)(),l=(0,ej.mN)({resolver:(0,ev.u)(eF),defaultValues:{name:""}});return!i&&(0,s.jsxs)(ei.AM,{open:e,onOpenChange:t,children:[(0,s.jsx)(ei.Wv,{asChild:!0,children:(0,s.jsx)(n.$,{variant:"outline",children:"Nov\xe1 karta"})}),(0,s.jsx)(ei.hl,{side:"bottom",align:"start",children:(0,s.jsx)(eC,{...l,children:(0,s.jsxs)("form",{onSubmit:l.handleSubmit(function(e){l.reset(),t(!1),a(e)}),className:"space-y-2",autoComplete:"off",children:[(0,s.jsx)(ek,{control:l.control,name:"name",render:e=>{let{field:t}=e;return(0,s.jsxs)(eP,{children:[(0,s.jsx)(e_,{children:"Jm\xe9no"}),(0,s.jsx)(eA,{children:(0,s.jsx)(c.p,{placeholder:"cool jm\xe9no",...t})}),(0,s.jsx)(eM,{})]})}}),(0,s.jsx)(ek,{control:l.control,name:"type",render:e=>{let{field:t}=e;return(0,s.jsxs)(eP,{children:[(0,s.jsx)(e_,{children:"Rozložen\xed"}),(0,s.jsxs)(eV,{onValueChange:t.onChange,defaultValue:t.value,children:[(0,s.jsx)(eA,{children:(0,s.jsx)(eK,{className:"w-full",children:(0,s.jsx)(e$,{placeholder:"Vyber rožložen\xed"})})}),(0,s.jsx)(eU,{children:es.MA.map(e=>(0,s.jsx)(eW,{value:e,children:"Sisyphus 4x4"},"configuration-".concat(e)))})]}),(0,s.jsx)(eM,{})]})}}),(0,s.jsx)(ek,{control:l.control,name:"colorCode",render:e=>{let{field:t}=e;return(0,s.jsxs)(eP,{children:[(0,s.jsx)(e_,{children:"Barva"}),(0,s.jsxs)(eV,{onValueChange:t.onChange,defaultValue:t.value,children:[(0,s.jsx)(eA,{children:(0,s.jsx)(eK,{className:"w-full",children:(0,s.jsx)(e$,{placeholder:"Vyber barvu"})})}),(0,s.jsx)(eU,{children:es.Jy.map(e=>(0,s.jsx)(eW,{value:e,children:(0,s.jsxs)("span",{className:"flex gap-2 items-center",children:[(0,s.jsx)(ea,{size:10,value:"#".concat(es.CM[e])}),(0,s.jsx)("p",{children:e})]})},"configuration-".concat(e)))})]}),(0,s.jsx)(eM,{})]})}}),(0,s.jsx)(n.$,{type:"submit",variant:"outline",className:"w-full",children:"Vytvořit"})]})})})]})}function eT(){let[e,t]=(0,r.useState)(null),[a,i]=(0,r.useState)(0),[l,o]=(0,r.useState)(0),{configuration:d,saveConfiguration:c,generateConfigurationPdf:u,loadConfiguration:f}=(0,es.Rd)(),{protocol:x}=X(),m=(0,r.useMemo)(()=>!!d&&!!l&&!!e,[d,l,e]),h=(0,r.useMemo)(()=>d?d.buttons.filter(e=>!!e.audioUrl).length:0,[d]),p=(0,r.useMemo)(()=>!!d&&!!x.connected&&x.connected.info.loadedConfigurations.some(e=>e.colorCode===d.colorCode),[x,d]),g=async()=>{if(d){let e=[JSON.stringify([...x.connected.info.loadedConfigurations.filter(e=>e.colorCode!==d.colorCode),{colorCode:d.colorCode,name:d.name,uploadedAt:new Date().toISOString(),size:d.size}])];if(await x.commands.push(new Blob(e),"conf_info",{}),0!==d.buttons.length)for(let[e,a]of(t(h),Object.entries(d.buttons))){let s=Number(e);if(!a.audioUrl)continue;let n=await fetch(a.audioUrl).then(e=>e.blob());i(n.size),o(100/n.size);let r=Math.floor(s/4),l=s%4+1,c=d.colorCode.toLowerCase().substring(0,1),u=0===r?"".concat(c,"_").concat(l,".wav"):"".concat(c,"_").concat(r).concat(l,".wav"),f=await x.commands.push(n,u,{setBytesLeft:i});if(f.success){let e=h-1;i(0),o(0),t(0===e?null:e),0===e&&en.oR.success("Konfigurace byla \xfaspěšně nahr\xe1na!")}else{en.oR.error(f.data);break}}}};return(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(eB,{}),(0,s.jsx)(n.$,{variant:"outline",asChild:!0,children:(0,s.jsxs)("label",{htmlFor:"load-configuration-file",children:["Nahr\xe1t kartu z disku",(0,s.jsx)("input",{id:"load-configuration-file",accept:".zip",type:"file",className:"hidden cursor-pointer",onChange:e=>{var t;let a=null===(t=e.target.files)||void 0===t?void 0:t[0];a&&f(a)}})]})}),(0,s.jsx)(n.$,{variant:"outline",onClick:async()=>await c(),disabled:!d,children:"Uložit kartu na disk"}),(0,s.jsxs)(ei.AM,{open:m,children:[(0,s.jsx)(ei.dT,{children:p?(0,s.jsx)(el,{disclaimer:"Opravdu chcete přepsat aktu\xe1lně nahranou kartu?",action:async()=>await g(),children:(0,s.jsx)(n.$,{variant:"outline",disabled:m||!x.connected||!d,children:(0,s.jsx)("p",{children:"Nahr\xe1t kartu do zař\xedzen\xed"})})}):(0,s.jsx)(n.$,{variant:"outline",disabled:m||!x.connected||!d,onClick:async()=>await g(),children:(0,s.jsx)("p",{children:"Nahr\xe1t kartu do zař\xedzen\xed"})})}),(0,s.jsxs)(ei.hl,{className:"p-2 w-[250px] flex flex-col justify-between items-center gap-1",children:[(0,s.jsxs)("p",{className:"text-xs text-muted-foreground",children:[null!=e?e:0," / ",h]}),(0,s.jsx)(eb,{className:"rounded-sm h-1",value:100-l*a})]})]}),(0,s.jsx)(n.$,{variant:"outline",onClick:async()=>await u(),disabled:!d,children:"Uložit pdf"})]})}let eZ=ew.z.object({name:ew.z.string().min(3,{message:"Konifugrace mus\xed m\xedt alespoň 3 p\xedsmena."}),colorCode:ew.z.enum(es.Jy)});function eq(){let[e,t]=(0,r.useState)(!1),{updateConfiguration:a,configuration:i}=(0,es.Rd)(),l=(0,ej.mN)({resolver:(0,ev.u)(eZ),values:{name:null==i?void 0:i.name,colorCode:null==i?void 0:i.colorCode}});return(0,s.jsxs)(ei.AM,{open:e,onOpenChange:t,children:[(0,s.jsx)(ei.Wv,{asChild:!0,children:(0,s.jsxs)(n.$,{variant:"outline",children:[(0,s.jsx)(ea,{size:10,value:"#".concat(es.CM[l.getValues().colorCode])}),(0,s.jsx)("p",{children:l.getValues().name})]})}),(0,s.jsx)(ei.hl,{side:"bottom",align:"start",children:(0,s.jsx)(eC,{...l,children:(0,s.jsxs)("form",{onSubmit:l.handleSubmit(function(e){l.reset(),t(!1),a(e)}),className:"space-y-2",autoComplete:"off",children:[(0,s.jsx)(ek,{control:l.control,name:"name",render:e=>{let{field:t}=e;return(0,s.jsxs)(eP,{children:[(0,s.jsx)(e_,{children:"Jm\xe9no"}),(0,s.jsx)(eA,{children:(0,s.jsx)(c.p,{placeholder:"cool jm\xe9no",...t})}),(0,s.jsx)(eM,{})]})}}),(0,s.jsx)(ek,{control:l.control,name:"colorCode",render:e=>{let{field:t}=e;return(0,s.jsxs)(eP,{children:[(0,s.jsx)(e_,{children:"Barva"}),(0,s.jsxs)(eV,{onValueChange:t.onChange,defaultValue:t.value,children:[(0,s.jsx)(eA,{children:(0,s.jsx)(eK,{className:"w-full",children:(0,s.jsx)(e$,{placeholder:"Vyber barvu"})})}),(0,s.jsx)(eU,{children:es.Jy.map(e=>(0,s.jsx)(eW,{value:e,children:(0,s.jsxs)("span",{className:"flex gap-2 items-center",children:[(0,s.jsx)(ea,{size:10,value:"#".concat(es.CM[e])}),(0,s.jsx)("p",{children:e})]})},"configuration-".concat(e)))})]}),(0,s.jsx)(eM,{})]})}}),(0,s.jsx)(n.$,{type:"submit",variant:"outline",className:"w-full",children:"Upravit"})]})})})]})}function eX(e){let{...t}=e;return(0,s.jsx)("nav",{"aria-label":"breadcrumb","data-slot":"breadcrumb",...t})}function eY(e){let{className:t,...a}=e;return(0,s.jsx)("ol",{"data-slot":"breadcrumb-list",className:(0,d.cn)("text-muted-foreground flex flex-wrap items-center gap-1.5 text-sm break-words sm:gap-2.5",t),...a})}function eH(e){let{className:t,...a}=e;return(0,s.jsx)("li",{"data-slot":"breadcrumb-item",className:(0,d.cn)("inline-flex items-center gap-1.5",t),...a})}function eG(e){let{className:t,...a}=e;return(0,s.jsx)("span",{"data-slot":"breadcrumb-page",role:"link","aria-disabled":"true","aria-current":"page",className:(0,d.cn)("text-foreground font-normal",t),...a})}function eQ(){let{configuration:e}=(0,es.Rd)();return(0,s.jsx)(eX,{className:"flex-1 flex",children:(0,s.jsx)(eY,{className:"flex-1 flex",children:(0,s.jsx)(eH,{className:"flex-1 flex",children:(0,s.jsx)(eG,{className:"line-clamp-1 flex-1 flex",children:(0,s.jsxs)("div",{className:"flex-1 flex justify-between pr-1",children:[(0,s.jsx)("div",{className:"flex gap-2 items-center",children:e&&(0,s.jsx)(eq,{})}),(0,s.jsx)(eT,{})]})})})})})}function e0(e){let{children:t}=e;return(0,s.jsx)(q,{children:(0,s.jsxs)(L,{children:[(0,s.jsx)(ed,{}),(0,s.jsxs)(M,{children:[(0,s.jsx)("header",{className:"flex h-14 shrink-0 items-center gap-2",children:(0,s.jsxs)("div",{className:"flex flex-1 items-center gap-2 px-3",children:[(0,s.jsx)(_,{}),(0,s.jsx)(u.w,{orientation:"vertical",className:"mr-2 data-[orientation=vertical]:h-4"}),(0,s.jsx)(eQ,{})]})}),t,(0,s.jsx)(ep,{})]})]})})}},9314:(e,t,a)=>{Promise.resolve().then(a.bind(a,5813))}},e=>{var t=t=>e(e.s=t);e.O(0,[31,541,877,461,873,80,77,358],()=>t(9314)),_N_E=e.O()}]);